// ==UserScript==
// @name         EBonus.gg Video Minified
// @namespace    http://tampermonkey.net/
// @version      2.5
// @description  Click the next video button and the circles/bubbles coins automatically. With other cool features added. It also skip the captcha!
// @author       CharlesCraft50
// @copyright    2019, CharlesCraft50 (https://openuserjs.org/users/CharlesCraft50)
// @license      MIT
// @include      https://ebonus.gg/*
// @match        https://www.google.com/recaptcha/api2/*
// @grant        GM_addStyle
// @require      http://code.jquery.com/jquery-3.4.1.min.js

// ==/UserScript==
$(document).ready(function(){if(GM_addStyle(".dropdown-content{display:none;position:absolute;background-color:#f1f1f1;min-width:160px;overflow:auto;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);right:0;z-index:1}.dropdown-content span{color:#000;padding:12px 16px;text-decoration:none;display:block}.dropdown-content span:hover{background-color:#ddd}.showdd {display: block;}"),window.ClickOnBubble=function(){($(".coins_popup.circle.adsbox").length>0||$('div.adsbox:contains("COINS")').length>0)&&(l+=1,sessionStorage.setItem("circleClick",l),p=parseInt(sessionStorage.getItem("circleEarnedGet"))+parseInt($(".coins_popup.circle.adsbox").text().replace(/COIN|\s/gi,"")),sessionStorage.setItem("circleEarnedGet",p),$("#cCarea").html("Circle Clicked: "+l),$("#cEarea").html("Circle Earned: "+p),$("#coinsEarnArea").html(parseInt(d+p)),setTimeout(function(){var e,t;e=document.querySelector(".coins_popup.circle.adsbox"),t=new MouseEvent("click"),e.dispatchEvent(t)},10))},window.ClickNext=function(){$(".sweet-alert.showSweetAlert.visible").length>0&&(console.log("videos clicked"),$(".confirm").click(),setTimeout(function(){window.location.href="https://ebonus.gg/earn-coins/watch/"},5e3))},window.resetData=function(){sessionStorage.clear(),l=0,p=0,sessionStorage.setItem("circleEarnedGet",p),$("#coinsEarnArea").html("0"),$("#coinCountArea").html("0"),$("#vCarea").html(r+" Videos: 0"),$("#vEarea").html("Video Coins Earned: 0"),$("#cCarea").html("Circle Clicked: 0"),$("#cEarea").html("Circle Earned: 0")},location.href.indexOf("google.com/recaptcha")>-1)var e=setInterval(function(){document.querySelectorAll(".recaptcha-checkbox-checkmark").length>0&&(clearInterval(e),document.querySelector(".recaptcha-checkbox-checkmark").click())},2e3);else for(var t=document.forms,n=0;n<t.length;n++)if(t[n].innerHTML.indexOf("google.com/recaptcha")>-1){t[n];var o=setInterval(function(){grecaptcha.getResponse().length>0&&(clearInterval(o),$('input[value="Continue"]').click())},100)}if(setTimeout(function(){window.location.href="https://ebonus.gg/earn-coins/watch"},12e4),$('p:contains("Please complete this captcha to continue watching videos.")').length>0)console.log("Captcha Alert");else{setInterval(function(){ClickNext(),ClickOnBubble()},1e3);$('li:contains("144")').click();var s=setInterval(function(){$('.vjs-mute-control[title="Mute"]').length>0?$(".vjs-mute-control").click():clearInterval(s)},1e3),a=setInterval(function(){1==$('.vjs-play-control.vjs-control.vjs-button[title="Play"]').length&&$(".vjs-play-control.vjs-control.vjs-button").click()},1e3);setTimeout(function(){clearInterval(a)},15e3)}var i=function(e,t){var n=$("<div>"+e+"</div>");return n.find(t).remove(),n.html()},r=i($("h3.desc_item.nomargin").html(),"span").replace(/Watch|videos|\s/gi,"");if(null===sessionStorage.getItem("coinGet")||NaN==sessionStorage.getItem("coinGet")||"NaN"==sessionStorage.getItem("coinGet"))var c=0;else c=parseInt(sessionStorage.getItem("coinGet"));if(null===sessionStorage.getItem("circleClick")||NaN==sessionStorage.getItem("circleClick")||"NaN"==sessionStorage.getItem("circleClick"))var l=0;else l=parseInt(sessionStorage.getItem("circleClick"));if(null===sessionStorage.getItem("coinsEarned")||NaN==sessionStorage.getItem("coinsEarned")||"NaN"==sessionStorage.getItem("coinsEarned")){var d=0;sessionStorage.setItem("coinsEarned",d)}else d=parseInt(sessionStorage.getItem("coinsEarned"));if(null===sessionStorage.getItem("circleEarnedGet")||NaN==sessionStorage.getItem("circleEarnedGet")||"NaN"==sessionStorage.getItem("circleEarnedGet")){var p=0;sessionStorage.setItem("circleEarnedGet",p)}else p=parseInt(sessionStorage.getItem("circleEarnedGet"));$('p:contains("Please complete this captcha to continue watching videos.")').length>0?console.log("Captcha Alert"):($("#next-video-btn").html()=="Next Video ["+r+"/"+r+"]"&&(d=parseInt(sessionStorage.getItem("coinsEarned"))+parseInt(i($('a[href="#coins_per_video"]').html(),"i").replace(/to earn|coins!|\s/gi,"")),sessionStorage.setItem("coinsEarned",d)),$("#next-video-btn").html()=="Next Video ["+r+"/"+r+"]"&&(c+=1,sessionStorage.setItem("coinGet",c),console.log(r+" videos = "+c))),$("body").append("<div class='button cEBtn' style='position: fixed; bottom: 0; right: 0; font-size: 20px;' title='Click to see more information'>Total Coins Earned: <span id='coinsEarnArea'>"+parseInt(d+p)+"</span> <div class='coin-image' style='width:16px;background-size:16px;height:16px;margin-bottom:-2px;'></div><i class='fa fa-caret-up'></i></div>"),$("body").append("<div class='button' id='videoCount' style='position: fixed; bottom: 190px; right: 0; font-size: 20px; cursor: default; transform: translateY(140px); transition: transform 0.5s linear;'>Video "+$("a#next-video-btn").html().replace(/Next Video /gi,"")+": <span id='coinCountArea'>"+c+"</span></div>"),$("body").append("<input type='button' id='resetDataEarned' class='button' style='position: fixed; bottom: 240px; right: 0; font-size: 20px; transform: translateY(140px); transition: transform 0.5s linear;' title='Resets data' value='Reset'>"),$("body").append("<div id='dataArea' class='dropdown-content' style='position: fixed; bottom: 45px; right: 0; font-size: 20px; cursor: default;'><span id='vCarea'>"+r+" Videos: "+c+"</span><span id='vEarea' style='background-color: #73cf11; color: white;'>Video Coins Earned: "+d+"</span><span id='cCarea'>Circle Clicked: "+l+"</span><span id='cEarea' style='background-color: #73cf11; color: white;'>Circle Earned: "+p+"</span></div>"),$(".cEBtn").click(function(){document.getElementById("dataArea").classList.toggle("showdd"),$(".dropdown-content.showdd").length>0?($("#resetDataEarned").css({transform:"translateY(-80px)"}),$("#videoCount").css({transform:"translateY(-80px)"})):($("#resetDataEarned").css({transform:"translateY(140px)"}),$("#videoCount").css({transform:"translateY(140px)"}))}),window.onclick=function(e){if(!e.target.matches(".cEBtn")){var t,n=document.getElementsByClassName("dropdown-content");for(t=0;t<n.length;t++){var o=n[t];o.classList.contains("showdd")&&(o.classList.remove("showdd"),$("#resetDataEarned").css({transform:"translateY(140px)"}),$("#videoCount").css({transform:"translateY(140px)"}))}}},$("#resetDataEarned").click(function(){resetData()})});
